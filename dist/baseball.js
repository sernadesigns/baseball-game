!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var o,i={all:o=o||new Map,on:function(e,n){var t=o.get(e);t?t.push(n):o.set(e,[n])},off:function(e,n){var t=o.get(e);t&&(n?t.splice(t.indexOf(n)>>>0,1):o.set(e,[]))},emit:function(e,n){var t=o.get(e);t&&t.slice().map((function(e){e(n)})),(t=o.get("*"))&&t.slice().map((function(t){t(e,n)}))}};function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=null,this.count=n.scoreBoard.getCount,i.on("*",(function(e,n){return t.handleEmittedEvent(e,n)}))}var n,t,o;return n=e,(t=[{key:"handleEmittedEvent",value:function(e,n){switch(e){case"announce:commentary":console.log("Announcer: ".concat(n));break;case"announce:hit":this.hit(n);break;case"announce:play":var t=n.hit,o=n.play;console.log("Announcer: The ".concat(t," was ").concat(o,". Out ").concat(this.count.outs,"!"));break;case"announce:teams":var i=n.visitor,r=n.home;alert("The ".concat(i," are going against the ").concat(r,"!"))}}},{key:"hit",value:function(e){switch(e){case"bunt":console.log("Announcer: Player bunts!");break;case"double":console.log("Announcer: Player hit a double.");break;case"fly ball":console.log("Announcer: It's a fly ball!");break;case"ground ball":console.log("Announcer: Player hit a grounder.");break;case"home run":console.log("Announcer: It's going! It's going! It's gone!!! It's a home run!!!");break;case"line drive":console.log("Announcer: It's a line drive!");break;case"single":console.log("Announcer: Player hit a single.");break;case"triple":console.log("Announcer: Player hit a triple.")}}}])&&r(n.prototype,t),o&&r(n,o),e}();function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.home={name:n,score:0},this.visitor={name:t,score:0},this.currentInning=0,this.currentTeamAtBat=null,this.count={balls:0,strikes:0,outs:0},this.setupScoreboard()}var n,t,o;return n=e,(t=[{key:"setupScoreboard",value:function(){var e={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};this[this.visitor.name]=Object.assign({},e),this[this.home.name]=Object.assign({},e)}},{key:"incrementInning",value:function(){this.currentInning++}},{key:"incrementCount",value:function(e){this.count[e]++}},{key:"clearCount",value:function(e){this.count[e]=0}},{key:"clearAllCounts",value:function(){var e=this;Object.keys(this.count).forEach((function(n){e.count[n]=0}))}},{key:"incrementScore",value:function(){var e=this.currentTeamAtBat,n=this[e].name;this[e].score++,this[n][this.currentInning]++}},{key:"setFinalScore",value:function(){this[this.home.name].final=this.home.score,this[this.visitor.name].final=this.visitor.score,console.table(this.getScoreboard)}},{key:"getCount",get:function(){return this.count}},{key:"getBallCount",get:function(){return this.count.balls}},{key:"getStrikeCount",get:function(){return this.count.strikes}},{key:"getOutCount",get:function(){return this.count.outs}},{key:"getScoreboard",get:function(){var e;return s(e={},this.visitor.name,this[this.visitor.name]),s(e,this.home.name,this[this.home.name]),e}},{key:"setCurrentInning",set:function(e){this.currentInning=e}},{key:"setAtBat",set:function(e){this.currentTeamAtBat=e}}])&&c(n.prototype,t),o&&c(n,o),e}();function l(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=null,this.count=n}var n,t,o;return n=e,(t=[{key:"call",value:function(e){switch(e){case"ball":4===this.count.balls?console.log("Umpire: Ball four! Take your base."):console.log("Umpire: ball!");break;case"foul ball":console.log("Umpire: Foul ball!");break;case"hit by pitch":console.log("Umpire: Batter hit by pitch. Take your base!");break;case"strike while looking":case"strike while swinging":3!==this.count.strikes?console.log("Umpire: Strike ".concat(this.count.strikes,"!")):console.log("Umpire: Strike 3! You're out!")}}}])&&l(n.prototype,t),o&&l(n,o),e}();function f(e){return Math.floor(Math.random()*Math.floor(e))}function b(e){return e[f(e.length)]}var g=["changeup","curveball","cutter","fastball","sinker","slider"],m=["bunt","double","fly ball","ground ball","home run","line drive","single","triple"],v=["ball","foul ball","hit","hit by pitch","strike while looking","strike while swinging"];function d(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y,k=function(){function e(n,t){var o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.home={name:n,score:0},this.visitor={name:t,score:0},this.scoreBoard=new u(n,t),this.announcer=new a(this),this.umpire=(o=this.scoreBoard.getCount,new h(o)),this.bases=[],i.on("announcement",(function(e){return console.log("announcement",e)}))}var n,t,o;return n=e,(t=[{key:"start",value:function(){i.emit("announce:teams",{visitor:this.visitor.name,home:this.home.name}),this.scoreBoard.setCurrentInning=1,this.bases.length=3,this.bases.fill(void 0),this.topInning()}},{key:"end",value:function(){this.scoreBoard.setFinalScore()}},{key:"topInning",value:function(){console.log("[[ Inning ".concat(this.scoreBoard.currentInning," (top) ]]")),this.scoreBoard.setAtBat="visitor",this.atBat(),3===this.scoreBoard.getOutCount&&(this.scoreBoard.clearCount("outs"),this.bottomInning())}},{key:"bottomInning",value:function(){console.log("[[ Inning ".concat(this.scoreBoard.currentInning," (bottom) ]]")),this.scoreBoard.setAtBat="home",this.atBat(),3===this.scoreBoard.getOutCount&&(this.scoreBoard.clearCount("outs"),this.scoreBoard.currentInning<9&&(this.scoreBoard.incrementInning(),this.topInning()))}},{key:"atBat",value:function(){console.log("new batter"),this.scoreBoard.clearCount("balls"),this.scoreBoard.clearCount("strikes");do{this.throwPitch(),this.scoreBoard.getOutCount<3&&this.atBat()}while(this.scoreBoard.getOutCount<3)}},{key:"throwPitch",value:function(){var e=b(g);this.batting(e)}},{key:"batting",value:function(e){var n=b(v);switch(n){case"ball":this.scoreBoard.incrementCount("balls"),this.umpire.call(n),4===this.scoreBoard.getBallCount?this.advanceRunners(1):this.throwPitch();break;case"foul ball":this.umpire.call(n),this.scoreBoard.getStrikeCount<2&&this.scoreBoard.incrementCount("strikes"),this.throwPitch();break;case"hit":this.handleHit();break;case"hit by pitch":this.umpire.call(n),this.advanceRunners(1);break;case"strike while looking":case"strike while swinging":this.scoreBoard.incrementCount("strikes"),this.umpire.call(n),3!==this.scoreBoard.getStrikeCount?this.throwPitch():this.scoreBoard.incrementCount("outs")}}},{key:"handleHit",value:function(){var e=b(m);switch(i.emit("announce:hit",e),e){case"bunt":this.fielding(e,1);break;case"double":this.advanceRunners(2);break;case"fly ball":case"ground ball":this.fielding(e,1);break;case"home run":this.advanceRunners(4);break;case"line drive":this.fielding(e,1);break;case"single":this.advanceRunners(1);break;case"triple":this.advanceRunners(3)}}},{key:"fielding",value:function(e,n){var t,o=0===f(2)?"out":"in";switch(e){case"bunt":case"ground ball":t="fielded";break;case"fly ball":case"line drive":t="caught"}"out"===o?(this.scoreBoard.incrementCount("outs"),i.emit("announce:play",{hit:e,play:t})):this.advanceRunners(n)}},{key:"advanceRunners",value:function(e){console.log("runners advance ".concat(e," ").concat(1===e?"base":"bases"));for(var n=0;n<e;n++)this.bases.unshift(0===n?"runner":void 0),this.watchHomePlate(this.bases.pop());this.bases.every((function(e){return"string"==typeof e}))&&i.emit("announce:commentary","The bases are loaded!"),console.log(this.bases)}},{key:"watchHomePlate",value:function(e){void 0!==e&&this.scoreBoard.incrementScore()}},{key:"getTeamNames",get:function(){return{visitor:this.visitor.name,home:this.home.name}}}])&&d(n.prototype,t),o&&d(n,o),e}();y="Baseball",console.log("hello from ".concat(y));var p,w,B=(p=window.prompt("Home team name?"),w=window.prompt("Visiting team name?"),new k(p,w));B.start(),B.end()}]);